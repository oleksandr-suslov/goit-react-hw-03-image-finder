{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Section/Section.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.js","components/Searchbar/Searchbar.js","components/Section/Section.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","utility/ServiceApi.jsx","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Button","type","name","clickOnBtn","id","newClassName","className","styles","onClick","shortid","require","Searchbar","state","findImage","handleFindImage","e","setState","currentTarget","value","toLowerCase","onChangeInput","preventDefault","trim","toast","error","theme","props","onSubmit","this","SearchForm","SearchFormButton","generate","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Section","children","mainSection","ImageGalleryItem","items","map","item","largeImageURL","src","webformatURL","alt","tags","ImageGalleryItemImage","evt","ImageGallery","arr","serviceApi","page","a","axios","get","response","data","modalRoot","document","querySelector","Modal","handleKeyDown","key","target","onClose","window","addEventListener","removeEventListener","createPortal","Overlay","App","images","isLoading","showModal","onModalUrl","handleFormSubmit","toggleShowModal","url","onButtonNextPage","prevState","prevProps","searchImages","getImagesApi","then","hits","length","position","autoClose","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.720e5c00.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1hVsj\",\"SearchForm\":\"Searchbar_SearchForm__3Agec\",\"SearchFormButton\":\"Searchbar_SearchFormButton__hHVjP\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1ovoB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3tBXv\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3Iu0d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AB5d\",\"Modal\":\"Modal_Modal__2ixLg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1G3Gc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainSection\":\"Section_mainSection__3ZzBB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__MlNgp\"};","import styles from \"./Button.module.css\";\n\nexport default function Button({ type, name, clickOnBtn, id, newClassName }) {\n  return (\n    <button\n      className={newClassName || styles.Button}\n      type={type}\n      onClick={clickOnBtn}\n      id={id}\n    >\n      {name}\n    </button>\n  );\n}\n\n// window.scrollTo({\n//   top: document.documentElement.scrollHeight,\n//   behavior: \"smooth\",\n// });\n","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Button from \"../Button/Button\";\nimport styles from \"./Searchbar.module.css\";\n\nvar shortid = require(\"shortid\");\n\nexport default class Searchbar extends Component {\n  state = {\n    findImage: \"\",\n  };\n\n  handleFindImage = (e) => {\n    this.setState({ findImage: e.currentTarget.value.toLowerCase() });\n  };\n\n  onChangeInput = (e) => {\n    e.preventDefault();\n    const { findImage } = this.state;\n    if (findImage.trim() === \"\") {\n      toast.error(\"Please, enter your request!\", {\n        theme: \"colored\",\n      });\n      this.props.onSubmit(findImage);\n      this.setState({ findImage: \"\" });\n      return;\n    }\n    this.props.onSubmit(findImage);\n    this.setState({ findImage: \"\" });\n  };\n\n  render() {\n    const { findImage } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.onChangeInput}>\n          <Button\n            type=\"submit\"\n            newClassName={styles.SearchFormButton}\n            id={shortid.generate()}\n          />\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={findImage}\n            onChange={this.handleFindImage}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import styles from \"./Section.module.css\";\n\nexport default function Section({ children }) {\n  return <section className={styles.mainSection}>{children}</section>;\n}\n","import styles from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ items, onClick }) {\n  return items.map((item) => (\n    <li className={styles.ImageGalleryItem} key={item.largeImageURL}>\n      <img\n        id={item.largeImageURL}\n        src={item.webformatURL}\n        alt={item.tags}\n        className={styles.ImageGalleryItemImage}\n        onClick={(evt) => {\n          evt.preventDefault();\n          onClick(evt.currentTarget.id);\n        }}\n      />\n    </li>\n  ));\n}\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({ arr, onClick }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      <ImageGalleryItem items={arr} onClick={onClick} />\n    </ul>\n  );\n}\n"," import axios from 'axios';\r\n\r\nconst KEY = '22309735-f1ff37d55971be81fb077216b';\r\n\r\n const serviceApi = async (findImage, page) => {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${findImage}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response.data;\r\n};\r\nexport default serviceApi;","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.key === \"Escape\" || e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleKeyDown}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport Section from \"./components/Section/Section\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport getImagesApi from \"./utility/ServiceApi\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport styles from \"./App.css\";\n\nvar shortid = require(\"shortid\");\n\nexport default class App extends Component {\n  state = {\n    findImage: \"\",\n    images: [],\n    page: 1,\n    isLoading: false,\n    showModal: false,\n    onModalUrl: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { findImage, page } = this.state;\n\n    if (prevState.findImage !== findImage) {\n      this.searchImages(findImage, 1);\n      this.setState({ page: 1 });\n    }\n    if (prevState.page !== page) {\n      this.searchImages(findImage, page);\n    }\n  }\n  handleFormSubmit = (findImage) => {\n    if (findImage.trim() === \"\") {\n      this.setState({ images: [] });\n    } else {\n      this.setState({ findImage });\n    }\n  };\n\n  toggleShowModal = (url) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      onModalUrl: url,\n    }));\n  };\n\n  searchImages(findImage, page) {\n    if (findImage !== \"\") {\n      this.setState({\n        isLoading: true,\n      });\n    }\n    getImagesApi(findImage, page)\n      .then((data) => {\n        if (page === 1) {\n          if (data.hits.length === 0) {\n            toast.error(\"No result were found for your search\", {\n              theme: \"colored\",\n              position: \"top-left\",\n              autoClose: 5000,\n            });\n          }\n          this.setState({\n            images: data.hits,\n          });\n        } else {\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...data.hits],\n          }));\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => {\n        toast.error(error, {\n          theme: \"colored\",\n        });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  }\n  onButtonNextPage = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { images, isLoading, onModalUrl, showModal } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {(images.length === 0 && (\n          <Section>\n            <p>Please input search request</p>\n          </Section>\n        )) || (\n          <Section>\n            <ImageGallery arr={images} onClick={this.toggleShowModal} />\n            {isLoading && (\n              <Loader\n                type=\"BallTriangle\"\n                color=\"#00BFFF\"\n                height={200}\n                width={200}\n              />\n            )}\n\n            <Button\n              type=\"button\"\n              name=\"Load more\"\n              id={shortid.generate()}\n              clickOnBtn={this.onButtonNextPage}\n            />\n          </Section>\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleShowModal}>\n            <img src={onModalUrl} alt=\"#\" />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}