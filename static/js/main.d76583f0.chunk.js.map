{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","utility/ServiceApi.jsx","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Button","type","name","clickOnBtn","id","newClassName","className","styles","onClick","shortid","require","Searchbar","state","findImage","handleFindImage","e","setState","currentTarget","value","toLowerCase","onChangeInput","preventDefault","trim","toast","error","theme","props","onSubmit","SearchForm","this","SearchFormButton","generate","SearchFormInput","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","items","map","item","largeImageURL","src","webformatURL","alt","tags","ImageGalleryItemImage","evt","ImageGallery","arr","serviceApi","page","a","axios","get","response","data","modalRoot","document","querySelector","Modal","handleKeyDown","key","target","onClose","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","images","isLoading","showModal","onModalUrl","handleFormSubmit","console","log","toggleShowModal","url","onButtonNextPage","prevState","prevProps","searchImages","getImagesApi","then","hits","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d76583f0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3tBXv\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3Iu0d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AB5d\",\"Modal\":\"Modal_Modal__2ixLg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1G3Gc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__MlNgp\"};","import styles from \"./Button.module.css\";\n\nexport default function Button({ type, name, clickOnBtn, id, newClassName }) {\n  return (\n    <button\n      className={newClassName || styles.Button}\n      type={type}\n      onClick={clickOnBtn}\n      id={id}\n    >\n      {name}\n    </button>\n  );\n}\n\n// window.scrollTo({\n//   top: document.documentElement.scrollHeight,\n//   behavior: \"smooth\",\n// });\n","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Button from \"../Button/Button\";\nimport styles from \"./Searchbar.module.css\";\n\nvar shortid = require(\"shortid\");\n\nexport default class Searchbar extends Component {\n  state = {\n    findImage: \"\",\n  };\n\n  handleFindImage = (e) => {\n    this.setState({ findImage: e.currentTarget.value.toLowerCase() });\n  };\n\n  onChangeInput = (e) => {\n    e.preventDefault();\n    if (this.state.findImage.trim() === \"\") {\n      toast.error(\"Please, enter your request!\", {\n        theme: \"colored\",\n      });\n      this.props.onSubmit(this.state.findImage);\n      this.setState({ findImage: \"\" });\n      return;\n    }\n    this.props.onSubmit(this.state.findImage);\n    this.setState({ findImage: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.onChangeInput}>\n          <Button\n            type=\"submit\"\n            newClassName={styles.SearchFormButton}\n            id={shortid.generate()}\n          />\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            value={this.state.findImage}\n            onChange={this.handleFindImage}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import styles from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ items, onClick }) {\n  return items.map((item) => (\n    <li className={styles.ImageGalleryItem} key={item.id}>\n      <img\n        id={item.largeImageURL}\n        src={item.webformatURL}\n        alt={item.tags}\n        className={styles.ImageGalleryItemImage}\n        onClick={(evt) => {\n          evt.preventDefault();\n          onClick(evt.currentTarget.id);\n        }}\n      />\n    </li>\n  ));\n}\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({ arr, onClick }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      <ImageGalleryItem items={arr} onClick={onClick} />\n    </ul>\n  );\n}\n"," import axios from 'axios';\r\n\r\nconst KEY = '22309735-f1ff37d55971be81fb077216b';\r\n\r\n const serviceApi = async (findImage, page) => {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${findImage}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response.data;\r\n};\r\nexport default serviceApi;","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.key === \"Escape\" || e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleKeyDown}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport getImagesApi from \"./utility/ServiceApi\";\n\n// import Loader from \"./components/Loader/Loader\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport styles from \"./App.css\";\n\nvar shortid = require(\"shortid\");\n\nexport default class App extends Component {\n  state = {\n    findImage: \"\",\n    images: [],\n    page: 1,\n    isLoading: false,\n    showModal: false,\n    onModalUrl: \"\",\n  };\n\n  // componentDidMount() {\n  //   this.searchImages();\n  // }\n  componentDidUpdate(prevProps, prevState) {\n    const { findImage, page } = this.state;\n\n    if (prevState.findImage !== findImage) {\n      this.searchImages(findImage, 1);\n      this.setState({ page: 1 });\n    }\n    if (prevState.page !== page) {\n      this.searchImages(findImage, page);\n    }\n  }\n  handleFormSubmit = (findImage) => {\n    if (findImage.trim() === \"\") {\n      this.setState({ images: [] });\n    } else {\n      this.setState({ findImage });\n      console.log(this.state.findImage);\n    }\n  };\n\n  toggleShowModal = (url) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      onModalUrl: url,\n    }));\n  };\n\n  searchImages(findImage, page) {\n    getImagesApi(findImage, page).then((data) => {\n      if (page === 1) {\n        this.setState({\n          images: data.hits,\n        });\n      } else {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...data.hits],\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      }\n    });\n    // .catch((error) => this.setState({ error }))\n    // .finally(() => this.setState({ isLoading: false }));\n  }\n  onButtonNextPage = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery arr={this.state.images} onClick={this.toggleShowModal} />\n        {/* <Loader /> */}\n        <Button\n          type=\"button\"\n          name=\"Load more\"\n          id={shortid.generate()}\n          clickOnBtn={this.onButtonNextPage}\n        />\n        {this.state.showModal && (\n          <Modal onClose={this.toggleShowModal}>\n            <img src={this.state.onModalUrl} alt=\"#\" />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1hVsj\",\"SearchForm\":\"Searchbar_SearchForm__3Agec\",\"SearchFormButton\":\"Searchbar_SearchFormButton__hHVjP\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1ovoB\"};"],"sourceRoot":""}